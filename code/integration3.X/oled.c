/*
 * oled.c - SPI interface to OLED screen for integration phase
 *
 * Original by Blmcart
 *
 * Modified by Colt Wilkens
 *
 */

#include <p24HJ64GP502.h>
#include <stdio.h>
#include <stdlib.h>

#include "logics.h"
#include "spi_12832.h"

/*#include <spi.h>
#include <delay.h>
#include <uart.h>

#pragma config FNOSC = FRC              // Oscillator Mode (Internal Fast RC (FRC))
#pragma config IESO = OFF               // Internal External Switch Over Mode (Start-up device with user-selected oscillator source)
#pragma config FWDTEN = OFF             // Watchdog Timer Enable (Watchdog timer enabled/disabled by user software)

#define FCY 3685000
#define BAUDRATE 9600
#define BRGVAL ((FCY/BAUDRATE)/16)-1
*/
//------------------------------------------------------------------------------
// image arrays generated by LCD Assistant
// http://en.radzio.dxp.pl/bitmap_converter/
//------------------------------------------------------------------------------
const unsigned char logo [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0xC0, 0xC0,
0xE0, 0xE0, 0xF0, 0xF0, 0xF8, 0xFC, 0xDC, 0x1C, 0x7C, 0x0E, 0xFE, 0xFE, 0xFE, 0x8E, 0x26, 0x76,
0x26, 0x8E, 0xFF, 0xFE, 0xF6, 0x66, 0x86, 0xE6, 0xEE, 0xFE, 0x7C, 0x1C, 0x58, 0x98, 0xB0, 0xF0,
0xE0, 0xE0, 0xC0, 0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x40, 0xC0, 0x00, 0x00, 0x00, 0xE0, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xF0, 0xF0, 0xF8, 0xFC, 0xFF, 0xFF, 0xFF, 0xFD, 0xF8,
0xE1, 0xC7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF9, 0xFA, 0xFE, 0xFF, 0xE7,
0xC3, 0xD8, 0xDC, 0xD9, 0xE3, 0xFF, 0xFE, 0xFC, 0xF8, 0xF0, 0xF0, 0xC0, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x20, 0x3E, 0x09, 0x08, 0x09, 0x0E, 0x30, 0x00, 0x3F, 0x21, 0x21, 0x21,
0x1E, 0x00, 0x00, 0x27, 0x25, 0x29, 0x39, 0x00, 0x00, 0x1E, 0x25, 0x25, 0x27, 0x00, 0x00, 0x3F,
0x02, 0x01, 0x01, 0x3E, 0x00, 0x01, 0x1F, 0x21, 0x21, 0x00, 0x1E, 0x25, 0x25, 0x27, 0x00, 0x00,
0x1E, 0x25, 0x25, 0x27, 0x00, 0x00, 0x27, 0x25, 0x29, 0x39, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x80, 0xF0, 0xF8, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x7F,
0x7F, 0x3F, 0x8F, 0xC7, 0x47, 0xF3, 0xF3, 0xB9, 0xE9, 0x7D, 0xDD, 0x7B, 0xF3, 0xB3, 0x1B, 0x89,
0x85, 0x44, 0x44, 0x25, 0x29, 0x4B, 0x49, 0x49, 0x45, 0x45, 0x29, 0x29, 0x23, 0x13, 0x87, 0x0F,
0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF8, 0xE0,
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x40, 0x40, 0xC0, 0x40, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40,
0x40, 0x40, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xE0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0x80, 0x1E, 0xF6, 0xF6,
0xBF, 0xFD, 0xFF, 0xED, 0x7F, 0xFB, 0xDE, 0xFF, 0x7D, 0xEF, 0xFB, 0xFF, 0x5D, 0x7F, 0x33, 0x18,
0x4C, 0x4C, 0x26, 0x12, 0x89, 0x49, 0x52, 0x52, 0x4A, 0x2A, 0x2A, 0x2A, 0x29, 0xA5, 0x94, 0x92,
0x88, 0x41, 0x07, 0x1F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0x00, 0x1E, 0x15, 0x15, 0x17, 0x00, 0x00, 0x1D, 0x15,
0x15, 0x1F, 0x10, 0x00, 0x1E, 0x01, 0x01, 0x1F, 0x01, 0x01, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x12,
0x12, 0x12, 0x0D, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char fire [] = {
0x00, 0x20, 0x20, 0x20, 0x20, 0x24, 0x24, 0x24, 0x24, 0x24, 0x24, 0x24, 0x0C, 0x08, 0x00, 0xE0,
0xA0, 0xA0, 0x23, 0x02, 0x22, 0xE4, 0x24, 0x0C, 0xE8, 0xA0, 0xA0, 0x40, 0x00, 0xE1, 0xA1, 0xA2,
0x22, 0x02, 0xE4, 0x00, 0x00, 0x00, 0x00, 0x20, 0x60, 0xC0, 0x80, 0xA0, 0xE0, 0xC0, 0x80, 0x80,
0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xA0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x08, 0x08, 0x08, 0x0A, 0x8A, 0x8A, 0xC9, 0x49, 0x49, 0x28, 0x20, 0x20, 0x27,
0x80, 0x80, 0x40, 0x40, 0x44, 0x47, 0x44, 0x20, 0x27, 0x00, 0x00, 0x87, 0x80, 0x47, 0x44, 0x44,
0x44, 0x20, 0x25, 0x10, 0x10, 0x00, 0x00, 0x04, 0x06, 0x03, 0x01, 0x05, 0x07, 0x03, 0x01, 0x01,
0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x05, 0x07, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00
};

const unsigned char fire_bolt1 [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x12, 0x22, 0x62, 0xA2, 0x0A, 0x1A, 0x7A, 0xF2, 0xE2, 0xCA, 0x9A,
0xBA, 0xF2, 0xE2, 0xC2, 0x82, 0x82, 0x82, 0x82, 0x92, 0x92, 0xB2, 0xA2, 0x82, 0x82, 0x82, 0x8A,
0x92, 0x92, 0x82, 0x82, 0x82, 0x92, 0x92, 0x92, 0xA2, 0x82, 0x82, 0x82, 0x8A, 0x92, 0x92, 0x92,
0x92, 0xA2, 0x82, 0x82, 0x82, 0x82, 0x8A, 0x9A, 0xFA, 0xF2, 0xE2, 0xE2, 0xC2, 0xC2, 0x82, 0x12,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x48, 0x44, 0x46, 0x45, 0x50, 0x58, 0x5E, 0x4F, 0x47, 0x53, 0x59,
0x5D, 0x4F, 0x47, 0x43, 0x41, 0x41, 0x41, 0x41, 0x41, 0x49, 0x4D, 0x45, 0x41, 0x41, 0x41, 0x49,
0x49, 0x49, 0x45, 0x41, 0x41, 0x41, 0x41, 0x49, 0x49, 0x45, 0x45, 0x41, 0x41, 0x51, 0x51, 0x49,
0x49, 0x45, 0x41, 0x41, 0x41, 0x41, 0x51, 0x59, 0x5F, 0x4F, 0x47, 0x47, 0x43, 0x43, 0x41, 0x48
};

const unsigned char fire_bolt2 [] = {
0x32, 0x52, 0x92, 0x12, 0x12, 0x22, 0x62, 0xA2, 0x0A, 0x1A, 0x7A, 0xF2, 0xE2, 0xCA, 0x9A, 0xBA,
0xF2, 0xE2, 0xC2, 0x82, 0x8A, 0x8A, 0x9A, 0x92, 0x92, 0x82, 0x8A, 0x8A, 0x8A, 0x8A, 0x92, 0x92,
0x82, 0x82, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x92, 0x92, 0x82, 0x82, 0x82, 0x8A, 0x8A, 0x9A, 0x92,
0x92, 0x92, 0x82, 0x82, 0x82, 0x8A, 0x9A, 0xFA, 0xF2, 0xE2, 0xE2, 0xC2, 0xC2, 0x82, 0x02, 0x42,
0x4C, 0x4A, 0x49, 0x48, 0x48, 0x44, 0x46, 0x45, 0x50, 0x58, 0x5E, 0x4F, 0x47, 0x53, 0x59, 0x5D,
0x4F, 0x47, 0x43, 0x41, 0x41, 0x51, 0x51, 0x49, 0x49, 0x49, 0x49, 0x41, 0x51, 0x59, 0x49, 0x49,
0x41, 0x51, 0x49, 0x49, 0x49, 0x41, 0x41, 0x51, 0x51, 0x51, 0x51, 0x59, 0x49, 0x49, 0x49, 0x49,
0x49, 0x49, 0x41, 0x41, 0x41, 0x51, 0x59, 0x5F, 0x4F, 0x47, 0x47, 0x43, 0x43, 0x41, 0x40, 0x42
};

const unsigned char fire_bolt3 [] = {
0x12, 0x12, 0x12, 0x12, 0x12, 0x22, 0x62, 0xA2, 0x0A, 0x1A, 0x7A, 0xF2, 0xE2, 0xCA, 0x9A, 0xBA,
0xF2, 0xE2, 0xC2, 0x82, 0x82, 0x82, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A, 0x8A,
0x82, 0xA2, 0xA2, 0xA2, 0xA2, 0xA2, 0xA2, 0xA2, 0xA2, 0x82, 0x82, 0x83, 0x84, 0x90, 0x90, 0x90,
0x90, 0x90, 0x90, 0x90, 0x80, 0x88, 0x99, 0xFB, 0xF2, 0xE2, 0xE2, 0xC2, 0xC2, 0x82, 0x02, 0x02,
0x48, 0x48, 0x48, 0x48, 0x48, 0x44, 0x46, 0x45, 0x50, 0x58, 0x5E, 0x4F, 0x47, 0x53, 0x59, 0x5D,
0x4F, 0x47, 0x43, 0x41, 0x49, 0x49, 0x49, 0x49, 0x49, 0x41, 0x41, 0x45, 0x45, 0x45, 0x45, 0x45,
0x45, 0x41, 0x41, 0x41, 0x49, 0x49, 0x49, 0x49, 0x41, 0x41, 0x41, 0xC5, 0x25, 0x05, 0x05, 0x05,
0x05, 0x05, 0x05, 0x05, 0x01, 0x11, 0x99, 0xDF, 0x4F, 0x47, 0x47, 0x43, 0x43, 0x41, 0x40, 0x40
};

const unsigned char fire_bolt4 [] = {
0x42, 0x42, 0x4A, 0x4A, 0x4A, 0x2A, 0x62, 0xA2, 0x0A, 0x1A, 0x7A, 0xF3, 0xE0, 0xC8, 0x98, 0xB8,
0xF0, 0xE0, 0xC0, 0x88, 0x88, 0x98, 0x91, 0x93, 0x86, 0x9A, 0x82, 0x82, 0x8A, 0x8A, 0x8A, 0x8A,
0x42, 0x4A, 0x4A, 0x52, 0x52, 0x54, 0x46, 0x45, 0x50, 0x58, 0x5E, 0xCF, 0x07, 0x13, 0x19, 0x1D,
0x0F, 0x07, 0x03, 0x01, 0x09, 0x09, 0x89, 0xC9, 0x61, 0x59, 0x41, 0x41, 0x49, 0x49, 0x4D, 0x45
};


const unsigned char dead [] = {
0x00, 0x00, 0x00, 0x60, 0x90, 0x98, 0x04, 0x04, 0x18, 0x20, 0x40, 0x80, 0xC0, 0xC0, 0xE0, 0xE0,
0xE0, 0xE0, 0xE0, 0xE0, 0xE0, 0xC0, 0xC0, 0x80, 0x40, 0x20, 0x18, 0x04, 0x04, 0x98, 0x90, 0x60,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0xF0, 0x80, 0x00, 0x00, 0x80, 0xF0,
0x70, 0x00, 0xC0, 0xE0, 0x70, 0x30, 0x30, 0x70, 0xE0, 0xC0, 0x00, 0xF0, 0xF0, 0x00, 0x00, 0x00,
0x00, 0xF0, 0xF0, 0x00, 0x70, 0x70, 0x00, 0xF0, 0xF0, 0x30, 0x30, 0x30, 0x70, 0xE0, 0xC0, 0x00,
0xF0, 0xF0, 0x30, 0x30, 0x30, 0x30, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x60, 0x90, 0x98, 0x04, 0x04, 0x18, 0x20, 0x40, 0x80, 0xC0, 0xC0, 0xE0, 0xE0, 0xE0, 0xE0, 0xE0,
0xE0, 0xE0, 0xC0, 0xC0, 0x80, 0x40, 0x20, 0x18, 0x04, 0x04, 0x98, 0x90, 0x60, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xE2, 0xFC, 0xFE, 0xFF, 0x9F, 0x0F, 0x0F, 0x9F, 0xFF,
0xFF, 0xFF, 0xFF, 0xFF, 0x9F, 0x0F, 0x0F, 0x9F, 0xFF, 0xFE, 0xFC, 0xE2, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x3F, 0x3F, 0x03, 0x01,
0x00, 0x00, 0x0F, 0x1F, 0x38, 0x30, 0x30, 0x38, 0x1F, 0x0F, 0x00, 0x0F, 0x1F, 0x38, 0x30, 0x30,
0x38, 0x1F, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x3F, 0x06, 0x06, 0x0E, 0x1F, 0x3B, 0x31, 0x00,
0x3F, 0x3F, 0x33, 0x33, 0x33, 0x33, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x01, 0xE2, 0xFC, 0xFE, 0xFF, 0x9F, 0x0F, 0x0F, 0x9F, 0xFF, 0xFF, 0xFF, 0xFF,
0xFF, 0x9F, 0x0F, 0x0F, 0x9F, 0xFF, 0xFE, 0xFC, 0xE2, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x43, 0x3F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
0xE3, 0xF1, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x43, 0x80, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0xFC, 0xFC, 0x0C, 0x0C, 0x0C, 0x1C, 0xF8, 0xF0, 0x00, 0xFC, 0xFC, 0xCC, 0xCC, 0xCC, 0xCC, 0x0C,
0x00, 0xF0, 0xF8, 0xDC, 0xCC, 0xCC, 0xDC, 0xF8, 0xF0, 0x00, 0xFC, 0xFC, 0x0C, 0x0C, 0x0C, 0x1C,
0xF8, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x80, 0x43, 0x3F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xE3, 0xF1, 0xE3,
0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x43, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x06, 0x09, 0x19, 0x20, 0x20, 0x18, 0x04, 0x02, 0x1F, 0x11, 0x11, 0x1F, 0x11,
0x11, 0x1F, 0x11, 0x11, 0x1F, 0x11, 0x11, 0x1F, 0x02, 0x04, 0x18, 0x20, 0x20, 0x19, 0x09, 0x06,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x0F, 0x0F, 0x0C, 0x0C, 0x0C, 0x0E, 0x07, 0x03, 0x00, 0x0F, 0x0F, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C,
0x00, 0x0F, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x0F, 0x00, 0x0F, 0x0F, 0x0C, 0x0C, 0x0C, 0x0E,
0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x06, 0x09, 0x19, 0x20, 0x20, 0x18, 0x04, 0x02, 0x1F, 0x11, 0x11, 0x1F, 0x11, 0x11, 0x1F, 0x11,
0x11, 0x1F, 0x11, 0x11, 0x1F, 0x02, 0x04, 0x18, 0x20, 0x20, 0x19, 0x09, 0x06, 0x00, 0x00, 0x00
};

const unsigned char health_text [] = {
0x7E, 0x08, 0x08, 0x7E, 0x00, 0x7E, 0x4A, 0x4A, 0x42, 0x00, 0x7C, 0x0A, 0x0A, 0x7C, 0x00, 0x7E,
0x40, 0x40, 0x40, 0x02, 0x02, 0x7E, 0x02, 0x02, 0x00, 0x7E, 0x08, 0x08, 0x7E, 0x00, 0x24, 0x00
};

const unsigned char ammo_text [] = {
0x00, 0x36, 0x1C, 0x08, 0x3E, 0x1C, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,
0x08, 0x08, 0x08, 0x08, 0x2A, 0x3E, 0x1C, 0x1C, 0x08, 0x00, 0x00, 0x00, 0x7C, 0x0A, 0x0A, 0x7C,
0x00, 0x7C, 0x02, 0x0E, 0x02, 0x7C, 0x00, 0x7C, 0x02, 0x0E, 0x02, 0x7C, 0x00, 0x3C, 0x42, 0x42,
0x3C, 0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char cooldown_text [] = {
0x3C, 0x42, 0x42, 0x24, 0x00, 0x3C, 0x42, 0x42, 0x3C, 0x00, 0x3C, 0x42, 0x42, 0x3C, 0x00, 0x7E,
0x40, 0x40, 0x40, 0x00, 0x7E, 0x42, 0x42, 0x3C, 0x00, 0x3C, 0x42, 0x42, 0x3C, 0x00, 0x3E, 0x40,
0x70, 0x40, 0x3E, 0x00, 0x7E, 0x04, 0x08, 0x7E, 0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x24, 0x4A, 0x52, 0x24, 0x00, 0x7E, 0x4A, 0x4A, 0x42,
0x00, 0x3C, 0x42, 0x42, 0x24, 0x00, 0x24, 0x4A, 0x52, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char cooldown_big [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x12, 0x12, 0x12, 0x12, 0x02, 0x02, 0x02, 0x02, 0x02, 0xC2, 0x22,
0x22, 0x42, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xE2, 0x02, 0x02,
0x02, 0x02, 0xE2, 0x22, 0x22, 0xC2, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xE2, 0x02, 0x02, 0x02,
0xE2, 0x02, 0xE2, 0x42, 0x82, 0xE2, 0x02, 0x42, 0x02, 0x02, 0x02, 0x02, 0x1A, 0x0A, 0x02, 0x02,
0x0A, 0x1A, 0x02, 0x02, 0x02, 0x02, 0x42, 0xA2, 0x22, 0x42, 0x02, 0xE2, 0xA2, 0xA2, 0x22, 0x02,
0xC2, 0x22, 0x22, 0x42, 0x02, 0x42, 0xA2, 0x22, 0x42, 0x02, 0x02, 0x02, 0x02, 0x02, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x22, 0x13, 0x0C, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x1A, 0x62, 0x82, 0x02, 0x02, 0x02, 0x02,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x48, 0x48, 0x48, 0x48, 0x40, 0x40, 0x40, 0x40, 0x40, 0x43, 0x44,
0x44, 0x42, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x47, 0x44, 0x44,
0x44, 0x40, 0x47, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x47, 0x44,
0x43, 0x40, 0x47, 0x40, 0x40, 0x47, 0x40, 0x42, 0x40, 0x40, 0x40, 0x40, 0x58, 0x50, 0x40, 0x40,
0x50, 0x58, 0x40, 0x40, 0x40, 0x40, 0x42, 0x44, 0x45, 0x42, 0x40, 0x47, 0x44, 0x44, 0x44, 0x40,
0x43, 0x44, 0x44, 0x42, 0x40, 0x42, 0x44, 0x45, 0x42, 0x40, 0x40, 0x40, 0x40, 0x40, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x44, 0xC8, 0x30, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x58, 0x46, 0x41, 0x40, 0x40, 0x40, 0x40
};

const unsigned char cooldown_num [] = {
0xF2, 0xFA, 0x1A, 0x1A, 0xFA, 0xF2, 0x02, 0x02, 0x32, 0xFA, 0xFA, 0x02, 0x02, 0x02, 0x32, 0x3A,
0x1A, 0x9A, 0xFA, 0xF2, 0x02, 0x32, 0x3A, 0x9A, 0x9A, 0xFA, 0x72, 0x02, 0xFA, 0xFA, 0x82, 0xFA,
0xFA, 0x82, 0x02, 0xFA, 0xFA, 0xDA, 0xDA, 0xDA, 0x9A, 0x02, 0xF2, 0xFA, 0x9A, 0x9A, 0xBA, 0x32,
0x02, 0x1A, 0x1A, 0x1A, 0x9A, 0xFA, 0x7A, 0x02, 0x1A, 0x0A, 0x02, 0x02, 0x0A, 0x1A, 0x02, 0x02,
0x4F, 0x5F, 0x58, 0x58, 0x5F, 0x4F, 0x40, 0x58, 0x58, 0x5F, 0x5F, 0x58, 0x58, 0x40, 0x5C, 0x5E,
0x5F, 0x5B, 0x59, 0x58, 0x40, 0x4C, 0x5C, 0x59, 0x59, 0x5F, 0x4E, 0x40, 0x41, 0x41, 0x41, 0x5F,
0x5F, 0x41, 0x40, 0x4C, 0x5C, 0x58, 0x58, 0x5F, 0x4F, 0x40, 0x4F, 0x5F, 0x59, 0x59, 0x5F, 0x4F,
0x40, 0x40, 0x58, 0x5E, 0x47, 0x41, 0x40, 0x40, 0x58, 0x50, 0x40, 0x40, 0x50, 0x58, 0x40, 0x40
};


const unsigned char loaded_arrow [] = {
0x02, 0x3E, 0x52, 0x82, 0x0A, 0x1A, 0x7A, 0xF2, 0xE2, 0xCA, 0x9A, 0xBA, 0xF2, 0xE2, 0xC2, 0x82,
0x82, 0x82, 0x82, 0x82, 0x82, 0x82, 0x80, 0x80, 0xBE, 0xAA, 0x94, 0x80, 0xBE, 0xA2, 0xBE, 0x80,
0xBE, 0xA0, 0xA0, 0x82, 0xBE, 0x82, 0x80, 0x80, 0x82, 0x82, 0x82, 0x82, 0x82, 0x82, 0x82, 0x82,
0x82, 0x8A, 0x9A, 0xFA, 0xF2, 0xE2, 0xE2, 0xC2, 0xC2, 0x82, 0x12, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x41, 0x50, 0x58, 0x5E, 0x4F, 0x47, 0x53, 0x59, 0x5D, 0x4F, 0x47, 0x43, 0x41,
0x41, 0x41, 0x01, 0x01, 0x7D, 0x41, 0x41, 0x01, 0x7D, 0x45, 0x7D, 0x01, 0x79, 0x15, 0x79, 0x01,
0x7D, 0x45, 0x39, 0x01, 0x7D, 0x55, 0x45, 0x01, 0x7D, 0x45, 0x39, 0x01, 0x01, 0x41, 0x41, 0x41,
0x41, 0x51, 0x59, 0x5F, 0x4F, 0x47, 0x47, 0x43, 0x43, 0x41, 0x48, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char not_loaded_arrow [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12,
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12,
0x32, 0x52, 0x92, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12,
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48,
0x4C, 0x4A, 0x49, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char damaged [] = {
0x12, 0x12, 0x12, 0x02, 0x12, 0x2A, 0x4A, 0x92, 0x10, 0x0E, 0x02, 0x04, 0x08, 0xE6, 0x22, 0x24,
0xC8, 0x10, 0xC8, 0xA8, 0xA4, 0xC4, 0x02, 0xC2, 0x22, 0xE4, 0x28, 0xC4, 0x02, 0xC2, 0xA4, 0xA4,
0xC8, 0x10, 0xC8, 0x26, 0x22, 0x44, 0x04, 0xE4, 0xA8, 0xA8, 0x28, 0x04, 0xE2, 0x24, 0x28, 0xC8,
0x04, 0x02, 0xE2, 0x04, 0x08, 0x04, 0x04, 0x62, 0x54, 0x48, 0x82, 0x02, 0x02, 0x02, 0x02, 0x02,
0x48, 0x48, 0x48, 0x42, 0x45, 0x45, 0x49, 0x08, 0x70, 0x40, 0x20, 0x10, 0x10, 0x27, 0x44, 0x44,
0x23, 0x10, 0x27, 0x20, 0x40, 0x47, 0x20, 0x17, 0x10, 0x08, 0x10, 0x67, 0x40, 0x27, 0x10, 0x20,
0x47, 0x20, 0x13, 0x14, 0x15, 0x23, 0x10, 0x27, 0x24, 0x44, 0x44, 0x20, 0x17, 0x24, 0x44, 0x63,
0x10, 0x10, 0x25, 0x40, 0x40, 0x4C, 0x2A, 0x12, 0x04, 0x08, 0x4C, 0x43, 0x40, 0x40, 0x40, 0x40
};

const unsigned char not_damaged [] = {
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x22, 0x42, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x22, 0x13, 0x0C, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x1A, 0x62, 0x82, 0x02, 0x02, 0x02, 0x02,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x44, 0x42, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42,
0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x42, 0x44, 0xC8, 0x30, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x58, 0x46, 0x41, 0x40, 0x40, 0x40, 0x40
};


const unsigned char numbers [] = {
0x3C, 0x52, 0x4A, 0x3C, 0x00, 0x00, 0x44, 0x7E, 0x40, 0x00, 0x44, 0x62, 0x52, 0x4C, 0x00, 0x24,
0x42, 0x4A, 0x34, 0x00, 0x0E, 0x08, 0x7E, 0x08, 0x00, 0x2E, 0x4A, 0x4A, 0x32, 0x00, 0x3C, 0x4A,
0x4A, 0x30, 0x00, 0x02, 0x62, 0x1A, 0x06, 0x00, 0x34, 0x4A, 0x4A, 0x34, 0x00, 0x0C, 0x52, 0x52,
0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00
};

const unsigned char top_section [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0C, 0x30, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x01, 0x03, 0x0C, 0x18, 0x60, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char bottom_section [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x30, 0x0C, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x80, 0xC0, 0x30, 0x18, 0x06, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char health_heart [] = {
0x0C, 0x12, 0x22, 0x44, 0x22, 0x12, 0x0C, 0x00, 0x0C, 0x1E, 0x3E, 0x7C, 0x3E, 0x1E, 0x0C, 0x00
};

const unsigned char loading_arrow [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x92, 0x92, 0x92, 0x12, 0x12, 0x92, 0x92, 0x92, 0x12, 0x12, 0x12,
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12,
0x32, 0x52, 0x92, 0x12, 0x12, 0x92, 0x92, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12,
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x09, 0x00, 0x40, 0x61, 0x7F, 0x3F, 0x1E, 0x4C, 0x6D, 0x7F, 0x3F, 0x1E, 0x0C,
0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C, 0x4C,
0x4C, 0x4C, 0x0D, 0x0C, 0x0C, 0x4C, 0x6D, 0x3F, 0x3F, 0x1E, 0x1E, 0x0C, 0x40, 0x40, 0x48, 0x48,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char loadegg [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x02, 0x02, 0x92, 0xD2, 0xC2, 0x42, 0x92, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x01, 0x00, 0x38, 0x77, 0xF1, 0xE1, 0xC4, 0x8E, 0x8E, 0x5F, 0x38, 0x00, 0x00,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char ammo_eggs [] = {
0x00, 0x00, 0x00, 0x30, 0x4C, 0xB2, 0xB6, 0x4C, 0x30, 0x00, 0x00, 0x30, 0x6C, 0xC2, 0x9A, 0x5C,
0x30, 0x00, 0x00, 0x30, 0x6C, 0x8E, 0xC6, 0x6C, 0x30, 0x00, 0x00, 0x00, 0x7E, 0x4A, 0x4A, 0x42,
0x00, 0x3C, 0x42, 0x52, 0x34, 0x00, 0x3C, 0x42, 0x52, 0x34, 0x00, 0x44, 0x4A, 0x4A, 0x32, 0x00,
0x00, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char fire_egg1 [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x22, 0x12, 0x8A, 0x8A, 0x0A,
0x82, 0x42, 0x32, 0x3A, 0xBA, 0x9A, 0x8A, 0xB2, 0xC2, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x40, 0x41, 0x48, 0x44, 0x40,
0x47, 0x4F, 0x5F, 0x58, 0x50, 0x51, 0x57, 0x4F, 0x43, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char fire_egg2 [] = {
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x22, 0x32, 0x92, 0x92, 0x9A, 0x8A, 0x0A, 0xE2, 0x72,
0x3A, 0x3A, 0x3A, 0x8A, 0x12, 0xE2, 0xE2, 0xC2, 0x02, 0x02, 0x02, 0x12, 0x32, 0x52, 0x92, 0x12,
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x22, 0x42, 0x42, 0x02,
0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x40, 0x49, 0x4D, 0x44, 0x44, 0x40, 0x40, 0x43, 0x44,
0x46, 0x4E, 0x4F, 0x4F, 0x48, 0x44, 0x45, 0x43, 0x40, 0x40, 0x40, 0x48, 0x4C, 0x4A, 0x49, 0x48,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x44, 0x42, 0x42, 0x40,
0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40
};

const unsigned char fire_egg3 [] = {
0x12, 0x12, 0x02, 0x02, 0x02, 0x22, 0x22, 0x22, 0x32, 0x12, 0x02, 0xC2, 0xF2, 0xEA, 0x8A, 0x0A,
0x1A, 0xFA, 0xF2, 0xE2, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02,
0x02, 0x22, 0x22, 0x02, 0x02, 0x22, 0x22, 0x02, 0x02, 0x12, 0x12, 0x0B, 0x06, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x1A, 0x62, 0x82, 0x02, 0x02, 0x02, 0x02,
0x48, 0x48, 0x40, 0x41, 0x49, 0x49, 0x49, 0x4D, 0x45, 0x45, 0x40, 0x43, 0x4D, 0x51, 0x59, 0x5D,
0x5C, 0x4C, 0x42, 0x41, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40,
0x40, 0x44, 0x44, 0x40, 0x40, 0x44, 0x44, 0x40, 0x40, 0x48, 0x48, 0xD0, 0x60, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x58, 0x46, 0x41, 0x40, 0x40, 0x40, 0x40
};

const unsigned char fire_egg4 [] = {
0x02, 0x22, 0x22, 0x02, 0x02, 0x22, 0x22, 0x02, 0x02, 0x12, 0x12, 0x0B, 0x06, 0x20, 0xB0, 0x90,
0x90, 0x98, 0x88, 0x88, 0x88, 0x00, 0xC1, 0xA3, 0x22, 0x12, 0xF2, 0xF2, 0x72, 0x62, 0x22, 0xC2,
0x40, 0x44, 0x44, 0x40, 0x40, 0x44, 0x44, 0x40, 0x40, 0x48, 0x48, 0xD0, 0x60, 0x00, 0x04, 0x04,
0x04, 0x0C, 0x08, 0x08, 0x08, 0x08, 0x83, 0xC7, 0x47, 0x48, 0x51, 0x5C, 0x5C, 0x5C, 0x4E, 0x47
};

const unsigned char notdamagedegg [] = {
0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x12, 0x22, 0x42, 0x42, 0x02,
0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02, 0x02, 0x42, 0x42, 0x02,
0x02, 0x22, 0x22, 0x02, 0x02, 0x22, 0x22, 0x02, 0x02, 0x12, 0x12, 0x0B, 0x06, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x1A, 0x62, 0x82, 0x02, 0x02, 0x02, 0x02,
0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x44, 0x42, 0x42, 0x40,
0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40, 0x40, 0x42, 0x42, 0x40,
0x40, 0x44, 0x44, 0x40, 0x40, 0x44, 0x44, 0x40, 0x40, 0x48, 0x48, 0xD0, 0x60, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x58, 0x46, 0x41, 0x40, 0x40, 0x40, 0x40
};

const unsigned char notloadedegg [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48,
0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char loadedegg [] = {
0x02, 0x3E, 0x52, 0x92, 0x02, 0x02, 0x02, 0x02, 0xE2, 0x32, 0x3A, 0x9A, 0xCA, 0xD2, 0xE2, 0x02,
0x02, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x10, 0x00, 0x7C, 0x54, 0x44,
0x00, 0x38, 0x44, 0x74, 0x00, 0x38, 0x44, 0x74, 0x00, 0x00, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12,
0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x12, 0x32, 0x52, 0x92, 0x12,
0x40, 0x7C, 0x4A, 0x49, 0x40, 0x40, 0x40, 0x47, 0x4E, 0x5E, 0x5C, 0x58, 0x51, 0x51, 0x4B, 0x47,
0x40, 0x40, 0x40, 0x48, 0x48, 0x40, 0x00, 0x00, 0x3E, 0x20, 0x20, 0x00, 0x3E, 0x22, 0x3E, 0x00,
0x3C, 0x0A, 0x3C, 0x00, 0x3E, 0x22, 0x1C, 0x00, 0x3E, 0x2A, 0x22, 0x00, 0x3E, 0x22, 0x1C, 0x00,
0x08, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x48, 0x4C, 0x4A, 0x49, 0x48
};

const unsigned char cooldown_egg [] = {
0x02, 0x3E, 0x52, 0x92, 0x12, 0x02, 0x02, 0x12, 0x12, 0x02, 0x02, 0x02, 0x02, 0x02, 0xC2, 0x22,
0x22, 0x42, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xE2, 0x02, 0x02,
0x02, 0x02, 0xE2, 0x22, 0x22, 0xC2, 0x02, 0xC2, 0x22, 0x22, 0xC2, 0x02, 0xE2, 0x02, 0x02, 0x02,
0xE2, 0x02, 0xE2, 0x42, 0x82, 0xE2, 0x02, 0x42, 0x02, 0x02, 0x02, 0x02, 0x1A, 0x0A, 0x02, 0x02,
0x0A, 0x1A, 0x02, 0x02, 0x02, 0x02, 0x42, 0xA2, 0x22, 0x42, 0x02, 0xE2, 0xA2, 0xA2, 0x22, 0x02,
0xC2, 0x22, 0x22, 0x42, 0x02, 0x42, 0xA2, 0x22, 0x42, 0x02, 0x02, 0x02, 0x02, 0x42, 0x42, 0x02,
0x02, 0x22, 0x22, 0x02, 0x02, 0x22, 0x22, 0x02, 0x02, 0x12, 0x12, 0x0B, 0x06, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x06, 0x1A, 0x62, 0x82, 0x02, 0x02, 0x02, 0x02,
0x40, 0x7C, 0x4A, 0x49, 0x48, 0x40, 0x40, 0x48, 0x48, 0x40, 0x40, 0x40, 0x40, 0x40, 0x43, 0x44,
0x44, 0x42, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x47, 0x44, 0x44,
0x44, 0x40, 0x47, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x44, 0x43, 0x40, 0x43, 0x44, 0x47, 0x44,
0x43, 0x40, 0x47, 0x40, 0x40, 0x47, 0x40, 0x42, 0x40, 0x40, 0x40, 0x40, 0x58, 0x50, 0x40, 0x40,
0x50, 0x58, 0x40, 0x40, 0x40, 0x40, 0x42, 0x44, 0x45, 0x42, 0x40, 0x47, 0x44, 0x44, 0x44, 0x40,
0x43, 0x44, 0x44, 0x42, 0x40, 0x42, 0x44, 0x45, 0x42, 0x40, 0x40, 0x40, 0x40, 0x42, 0x42, 0x40,
0x40, 0x44, 0x44, 0x40, 0x40, 0x44, 0x44, 0x40, 0x40, 0x48, 0x48, 0xD0, 0x60, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x60, 0x58, 0x46, 0x41, 0x40, 0x40, 0x40, 0x40
};


// one prototype needed for order of functions in this file
void Fill_RAM_12832(unsigned char Data);

//=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Initialization
//=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
void OLED_init()
{
    int i;

    //TRISBbits.TRISB12 = 0; // manual output
    //LATBbits.LATB12 = 0;   // SS pin
    //TRISBbits.TRISB13 = 0; //Set pin 13 to output (D/C)
    //TRISBbits.TRISB14 = 0; // reset pin

    // set reset pin low
    oled_res = 0;
    // int i;
    for(i = 0; i < 16000; i++) {
        Nop();
    }

    IFS0bits.SPI1IF = 0; // Clear the Interrupt Flag
    IEC0bits.SPI1IE = 0; // Disable the Interrupt

    // DO NOT SET BOTH OF THESE TO ALL 1'S.  I will find you and I will slap you.
    SPI1CON1bits.PPRE = 0b01;  // primary prescale of 16:1
    SPI1CON1bits.SPRE = 0b110; // secondary prescale of 2:1

    SPI1CON1bits.DISSCK = 0; //Internal Serial Clock is Enabled
    SPI1CON1bits.DISSDO = 0; //SDOx pin is controlled by the module
    SPI1CON1bits.MODE16 = 0; //Communication is byte-wide (8 bits)
    SPI1CON1bits.SSEN = 0; //?
    SPI1CON1bits.SMP = 0; //Input Data is sampled at the middle of
                                                       //data output time
    SPI1CON1bits.CKE = 0; //Serial output data changes on
                   //transition from idle clock state to active clock state
    SPI1CON1bits.CKP = 1; //Idle state for clock is a low level;
                                               //active state is a high level
    SPI1CON1bits.MSTEN = 1; //Master Mode Enabled
    SPI1STATbits.SPIEN = 1; //Enable SPI Module

    //IFS0bits.SPI1IF = 0; // Clear the Interrupt Flag
    //IEC0bits.SPI1IE = 1; // Enable the Interrupt

    // set reset pin high
    oled_res = 1;
    // delay about 40 ms

    for(i = 0; i < 16000; i++) {
        Nop();
    }

    Set_Display_On_Off_12832(0x01);		// ---display on
    Set_Display_Clock_12832(0x70);		// Set Clock as 160 Frames/Sec
    Set_Multiplex_Ratio_12832(0x1F);		// 1/32 Duty (0x0F~0x3F)
    Set_Display_Offset_12832(0x00);		// Shift Mapping RAM Counter (0x00~0x3F)
    Set_Start_Line_12832(0x00);			// Set Mapping RAM Display Start Line (0x00~0x3F)
    Set_Master_Config_12832(0x00);		// Disable Embedded DC/DC Converter (0x00/0x01)
    Set_Area_Color_12832(0x05);			// Set Monochrome & Low Power Save Mode
    Set_Addressing_Mode_12832(0x00);		// Set Page Addressing Mode (0x00/0x01/0x02)
    Set_Segment_Remap_12832(0x00);		// Set SEG/Column Mapping (0x00/0x01)
    Set_Common_Remap_12832(0x00);			// Set COM/Row Scan Direction (0x00/0x08)
    Set_Common_Config_12832(0x10);		// Set Alternative Configuration (0x00/0x10)
    Set_LUT_12832(0x3F,0x3F,0x3F,0x3F);		// Define All Banks Pulse Width as 64 Clocks
    Set_Contrast_Control_12832(0xBF);	// Set SEG Output Current
    Set_Area_Brightness_12832(0xBF);	// Set Brightness for Area Color Banks
    Set_Precharge_Period_12832(0xD2);		// Set Pre-Charge as 13 Clocks & Discharge as 2 Clock
    Set_VCOMH_12832(0x08);			// ---Set VCOM Deselect Level
    Set_Entire_Display_12832(0x00);		// Disable Entire Display On (0x00/0x01)
    Set_Inverse_Display_12832(0x00);		// Disable Inverse Display On (0x00/0x01)
    Fill_RAM_12832(0x00);				// Clear Screen
    Set_Display_On_Off_12832(0x01);		// Display On (0x00/0x01)
}


//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Draw Commands
//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
void Fill_RAM_12832(unsigned char Data)
{
unsigned char i,j;

    for(i=0;i<8;i++)
    {
        Set_Start_Page_12832(i);
        Set_Start_Column_12832(0x00);

        for(j=0;j<132;j++)
        {
            oled_data(Data);
        }
    }
}

void Full_Page(const unsigned char* picture)
{
    unsigned char i,j;

    for(i=0;i<4;i++)
    {
	Set_Start_Page_12832(i);
	Set_Start_Column_12832(0x00);

        for(j=0;j<128;j++)  //128
        {
            oled_data(picture[ j + i*128 ]);
        }
    }
}

void P23_0_64(const unsigned char* picture)
{
    unsigned char i,j;

    for(i=0;i<2;i++)
    {
	Set_Start_Page_12832(i+1);
	Set_Start_Column_12832(0x00);

        for(j=0;j<64;j++)  //0-64
        {
            if (picture != 0x00)
                oled_data(picture[j + i*64 ]);
            else
                oled_data(0x00);
        }
    }
}

void P23_32_96(const unsigned char* picture)
{
    unsigned char i,j;

    for(i=0;i<2;i++)
    {
	Set_Start_Page_12832(i+1);
	Set_Start_Column_12832(32);

        for(j=0;j<64;j++)  //32-96
        {
            if (picture != 0x00)
                oled_data(picture[j + i*64 ]);
            else
                oled_data(0x00);
        }
    }
}

void P23_64_128(const unsigned char* picture)
{
    unsigned char i,j;

    for(i=0;i<2;i++)
    {
	Set_Start_Page_12832(i+1);
	Set_Start_Column_12832(64);

        for(j=0;j<64;j++)  //65-128
        {
            if (picture != 0x00)
                oled_data(picture[j + i*64 ]);
            else
                oled_data(0x00);
        }
    }
}

void P23_96_128(const unsigned char* picture)
{
    unsigned char i,j;

    for(i=0;i<2;i++)
    {
	Set_Start_Page_12832(i+1);
	Set_Start_Column_12832(96);

        for(j=0;j<32;j++)  //96-128
        {
            if (picture != 0x00)
                oled_data(picture[j + i*32 ]);
            else
                oled_data(0x00);
        }
    }
}

void P1_16_47(const unsigned char* picture)
{
    unsigned char j;

    Set_Start_Page_12832(0);
    Set_Start_Column_12832(16);

    for(j=0;j<31;j++)  // 16-47
    {
        oled_data(picture[j]);
    }
}

void P1_96_128(const unsigned char* picture)
{
    unsigned char j;

    Set_Start_Page_12832(0);
    Set_Start_Column_12832(96);

    for(j=0;j<32;j++)  // 96-128
    {
        oled_data(picture[j]);
    }
}

void P4_0_56(const unsigned char* picture)
{
    unsigned char j;

    Set_Start_Page_12832(3);
    Set_Start_Column_12832(0);

    for(j=0;j<56;j++)  // 0-56
    {
        oled_data(picture[j]);
    }
}

void P4_48_128(const unsigned char* picture)
{
    unsigned char j;

    Set_Start_Page_12832(3);
    Set_Start_Column_12832(48);

    for(j=0;j<80;j++)  // 48-96
    {
        if (picture != 0x00)
            oled_data(picture[j]);
        else
            oled_data(0x00);
    }
}

void P4_96_128(const unsigned char* picture)
{
    unsigned char j;

    Set_Start_Page_12832(3);
    Set_Start_Column_12832(96);

    for(j=0;j<32;j++)  // 96-128
    {
        oled_data(picture[j]);
    }
}

//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
//  Logic Functions
//-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

void update_health(int health)
{
#ifdef DEBUG
    char number[ITOASIZE] = "";
    itoa(number, health, 10);
    uart_chrstr("health at ");
    uart_chrstr(number);
    uart_newline();
#endif

    unsigned int j;

    Set_Start_Page_12832(0);
    Set_Start_Column_12832(50); //34);

    unsigned int hcount = 0;
    for(j = 0; j < 40; j++)
    {
        if (( (j%8) > 0) && ( (j%8) < 6))
            hcount += 1;
        oled_data(health_heart[j%8 + (health/2 >= hcount)*8]);
    }
    /*oled_data(0x7E);
    for(j = 0; j < 50; j++)  //65-128
    {
        if (j < health)
            oled_data(0x7E);
        else
            oled_data(0x42);
    }
    oled_data(0x7E);*/
}

void screen_display(enum SCRN mode)
{
    if (mode == SPLASH)
    {
        // lol
        Full_Page(logo);
    }
    else if (mode == MAIN)
    {
        // clear screen
        Fill_RAM_12832(0x00);
        // draw all parts of main screen
        if (MODE == 0) {
            P1_16_47(health_text);
            P1_96_128(top_section);
            P23_0_64(not_loaded_arrow);
            P23_64_128(not_damaged);
            P4_0_56(ammo_text);
            P4_96_128(bottom_section);
        } else if (MODE == 1) {
            P1_16_47(health_text);
            P1_96_128(top_section);
            P23_0_64(notloadedegg);
            P23_64_128(notdamagedegg);
            P4_0_56(ammo_eggs);
            P4_96_128(bottom_section);
        }
    }
    else if (mode == DEAD)
    {
        // dead screen
        Full_Page(dead);
    }
}

void update_load(int frame)
{
    // 0: not loaded
    // 1: intermediate frame of loading animation
    // 2: loaded image
#ifdef DEBUG
    if (loaded)
        uart_chrstr("bolt loaded?!");
    else
        uart_chrstr("no bolt loaded...");
    uart_newline();
#endif
    if (frame == 0) {
        // clear location
        if (MODE == 0)      P23_0_64(not_loaded_arrow);
        if (MODE == 1)      P23_0_64(notloadedegg);
    }
    else if (frame == 1) {
        // draw loading arrow
        if (MODE == 0)      P23_0_64(loading_arrow);
        if (MODE == 1)      P23_0_64(loadegg);
    }
    else if (frame == 2) {
        // draw loaded arrow
        if (MODE == 0)      P23_0_64(loaded_arrow);
        if (MODE == 1)      P23_0_64(loadedegg);
    }
}

void update_ammo(int amount)
{
#ifdef DEBUG
    char number[ITOASIZE] = "";
    itoa(number, amount, 10);
    uart_chrstr("ammo level at ");
    uart_chrstr(number);
    uart_newline();
#endif

    unsigned int i, j;

    Set_Start_Page_12832(3);
    Set_Start_Column_12832(57); //29); // 28 + 29

    //oled_data(0x7E);
    int digit;
    for(i = 0; i < 4; i++)
    {
        digit = amount/10;
        if (digit > 0)
            oled_data(numbers[i+5*digit]);
        else
            break; //oled_data(0x00); // clear the space
    }
    oled_data(0x00); // buffer space
    // now do ones digit
    for(j = 0; j < 4; j++)
    {
        digit = amount % 10;
        oled_data(numbers[j+5*digit]);
    }
    if (amount/10 == 0) // if we didn't place the tens digit, and moved the ones digit forward
    {
        // put blank space after the ones digit
        for(j = 0; j < 4; j++)
        oled_data(0x00);
    }
}

void update_hit(bool hit)
{
    if (hit)
    {
        // draw hit icon
        P23_64_128(damaged);
    }
    else
    {
        // apparently clear?
        if (MODE == 0)      P23_64_128(not_damaged);
        if (MODE == 1)      P23_64_128(notdamagedegg);
    }
}

void cooldown_display(int count)
{
    int i, j, digit;
#ifdef DEBUG
    char number[ITOASIZE] = "";
    itoa(number, count, 10);
    uart_chrstr("cooldown at ");
    uart_chrstr(number);
    uart_newline();
#endif
    
    // this is the new cooldown: right down the center
    if (count > 0) {
        // display big cooldown label
        if (count == COOLDOWN_TIME)
        {
            for(i=0;i<2;i++)
            {
                Set_Start_Page_12832(i+1);
                Set_Start_Column_12832(0x00);

                for(j=0;j<128;j++)  //0-128
                {
                    if (MODE == 0)  oled_data(cooldown_big[j + i*128 ]);
                    if (MODE == 1)  oled_data(cooldown_egg[j + i*128 ]);

                }
            }
        }
        // assuming cooldown is only one digit, double check
        digit = count % 10;
        // now draw the big number
        for(i=0;i<2;i++)
        {
            Set_Start_Page_12832(i+1);
            Set_Start_Column_12832(60);

            for(j=0;j<6;j++)  // 6 pixels wide
            {
                oled_data(cooldown_num[j + digit*7 + i*64 ]);
            }
        }
    } else {
        // reset middle of screen
        if (MODE == 0) {
            P23_0_64(not_loaded_arrow);
            P23_64_128(not_damaged);
        } else if (MODE == 1) {
            P23_0_64(notloadedegg);
            P23_64_128(notdamagedegg);
        }
        
    }
};

//void fire_display(bool firing)
void fire_display(int frame)
{
    // 0: not firing
    // 1-4: frames (best called in order)
#ifdef DEBUG
    if (firing)
        uart_chrstr("firing bolt!");
    else
        uart_chrstr("not firing...");
    uart_newline();
#endif
    if (MODE == 0) {
        if (frame == 0) {
            P23_0_64(not_loaded_arrow);
            P23_64_128(not_damaged);
        }
        else if (frame == 1) {
            P23_0_64(fire_bolt1);
        }
        else if (frame == 2) {
            P23_0_64(not_loaded_arrow);
            P23_32_96(fire_bolt2);
        }
        else if (frame == 3) {
            P23_0_64(not_loaded_arrow);
            P23_64_128(fire_bolt3);
        }
        else if (frame == 4) {
            P23_64_128(not_damaged);
            P23_96_128(fire_bolt4);
        }
    } else if (MODE == 1) {
        if (frame == 0) {
            P23_0_64(notloadedegg);
            P23_64_128(notdamagedegg);
        }
        else if (frame == 1) {
            P23_0_64(fire_egg1);
        }
        else if (frame == 2) {
            P23_0_64(notloadedegg);
            P23_32_96(fire_egg2);
        }
        else if (frame == 3) {
            P23_0_64(notloadedegg);
            P23_64_128(fire_egg3);
        }
        else if (frame == 4) {
            P23_64_128(notdamagedegg);
            P23_96_128(fire_egg4);
        }
    }
};